<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: request.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: request.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * The function `sendRequest` is a JavaScript function that sends an HTTP request using XMLHttpRequest
 * and returns a promise that resolves with the response.
 * @param request - The `request` parameter is an object that contains the details of the HTTP request
 * to be sent. It has the following properties:
 * @returns The function `sendRequest` is returning a Promise.
 */

var XMLHttpRequest = require('xhr2');
export default function sendRequest(request) {
    return new Promise((resolve, reject) => {
        const xhr = new XMLHttpRequest();
        xhr.open(request.method, request.url, true);
        for (const [header, value] of Object.entries(request.headers))
            xhr.setRequestHeader(header, value);

        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                const response = {
                    status: xhr.status,
                    headers: xhr.getAllResponseHeaders(),
                    body: xhr.responseText
                };
                resolve(response);
            }
        };
        xhr.send(request.body);
    });
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#CreateDefaultFiles">CreateDefaultFiles</a></li><li><a href="global.html#XMLHttpRequest">XMLHttpRequest</a></li><li><a href="global.html#addVhost">addVhost</a></li><li><a href="global.html#checkAndCreateConfig">checkAndCreateConfig</a></li><li><a href="global.html#checkAndCreateRequest">checkAndCreateRequest</a></li><li><a href="global.html#createCertif">createCertif</a></li><li><a href="global.html#createConfigFile">createConfigFile</a></li><li><a href="global.html#createConfigFolder">createConfigFolder</a></li><li><a href="global.html#createFile">createFile</a></li><li><a href="global.html#createFolder">createFolder</a></li><li><a href="global.html#deleteFolderRecursive">deleteFolderRecursive</a></li><li><a href="global.html#deleteNode">deleteNode</a></li><li><a href="global.html#findContent">findContent</a></li><li><a href="global.html#findPath">findPath</a></li><li><a href="global.html#getContent">getContent</a></li><li><a href="global.html#getPathFromId">getPathFromId</a></li><li><a href="global.html#gitAdd">gitAdd</a></li><li><a href="global.html#gitAddAll">gitAddAll</a></li><li><a href="global.html#gitCommit">gitCommit</a></li><li><a href="global.html#gitPull">gitPull</a></li><li><a href="global.html#gitPush">gitPush</a></li><li><a href="global.html#gitStatus">gitStatus</a></li><li><a href="global.html#listFilesRecursively">listFilesRecursively</a></li><li><a href="global.html#moveFile">moveFile</a></li><li><a href="global.html#parseRequest">parseRequest</a></li><li><a href="global.html#renameNode">renameNode</a></li><li><a href="global.html#transformExtensionAndType">transformExtensionAndType</a></li><li><a href="global.html#writeFile">writeFile</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Fri Jul 07 2023 00:17:30 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
